<!DOCTYPE html>
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >

 <link rel="icon" type="image/vnd.microsoft.icon" href="../conemu.ico">

 <link rel="canonical" href="http://conemu.github.io" />

 <link rel="stylesheet" href="../main.css">

 <title>ConEmu</title>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9200434-5', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>

<div class="wrapper">
<div class="maincol" id="wikimaincol">

	<div class="header">
		<div id="logo-block">
			<div>
				<h1><a href="http://conemu.github.io">ConEmu</a></h1>
				<div id="logo-descr"><a href="http://conemu.github.io">Windows terminal</a></div>
				<div id="social">
					<a href="http://www.facebook.com/share.php?u=http://conemu.github.io/" rel="nofollow" target="_blank" title="FaceBook" id="soc-facebook"></a>
					<a href="http://twitter.com/share?url=http://conemu.github.io/" rel="nofollow" target="_blank" title="Twitter" id="soc-twitter"></a>
					<div id="soc-plus">
						<div style="background: transparent; text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 124px; height: 26px;"
							id="___plusone_0"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="background: transparent; position: static; top: 0px; width: 88px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 24px;" tabindex="0" vspace="0" width="100%"
							id="I0_1419983428828" name="I0_1419983428828" src="https://apis.google.com/u/0/se/0/_/+1/fastbutton?usegapi=1&amp;origin=http%3A%2F%2Fconemu.github.io&amp;url=http%3A%2F%2Fcode.google.com%2Fp%2Fconemu-maximus5%2F&amp;gsrc=3p&amp;ic=1&amp;jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.en.j1QholfdnmY.O%2Fm%3D__features__%2Fam%3DAQ%2Frt%3Dj%2Fd%3D1%2Ft%3Dzcms%2Frs%3DAGLTcCP1BSvtxoI3E2wzG7twjHbDrCUuHA#_methods=onPlusOne%2C_ready%2C_close%2C_open%2C_resizeMe%2C_renderstart%2Concircled%2Cdrefresh%2Cerefresh%2Conload&amp;id=I0_1419983428828&amp;parent=http%3A%2F%2Fconemu.github.io&amp;pfname=&amp;rpctoken=42383786" data-gapiattached="true"
							title="+1"></iframe></div>
					</div>
				</div>
			</div>
			<div style="overflow: hidden; width:728px; height:90px; position: relative; left: 210px; top: -90px;">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
				<!-- conemu.github.io -->
				<ins class="adsbygoogle"
				     style="display:inline-block;width:728px;height:90px"
				     data-ad-client="ca-pub-8810818700876198"
				     data-ad-slot="5792850468"></ins>
				<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
				</script>
			</div>
		</div>
		<div id="header-line"></div>
	</div><!-- .header-->

	<div class="middle">
		<div class="container">
			<div class="content">

<!-- Content starts -->

<h1 id="h0">Environment variables</h1>
<p><ul><li><a href="#List_of_environment_variables_set_by_ConEmu">List of environment variables set by ConEmu</a></li>
	<li><a href="#PATH_modifications">PATH modifications</a></li>
	<li><a href="#Debug_purposed_variables">Debug purposed variables</a></li>
	<li><a href="#Export_variables">Export variables</a></li>
	<ul><li><a href="#Full_syntax_of_Export_command">Full syntax of Export command</a></li></ul>
	<li><a href="#Disabling_hooks_temporarily">Disabling hooks temporarily</a></li>
	<li><a href="#Cheating_system_time">Cheating system time</a></li>
	<li><a href="#ConEmuCpCvt">ConEmuCpCvt - hack to force output CP conversion</li>
	<li><a href="#ConEmuDefaultCp">ConEmuDefaultCp - hack to change output CP if you don't want to use ‘chcp’</a></li></ul>
</p>

<h2><a name="List_of_environment_variables_set_by_ConEmu"></a>List of environment variables set by ConEmu<a href="#List_of_environment_variables_set_by_ConEmu" class="section_anchor"></a></h2>
<p><table class="wikitable"><tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Name</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Example</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Description</strong> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\ConEmu</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> folder, containing ConEmu.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDrive </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> drive letter with colon, containing ConEmu.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBaseDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\ConEmu\ConEmu</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> folder, containing ConEmuC.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuWorkDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\Users</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> folder, from where your shell was started </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuWorkDrive </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> drive letter with colon, from where your shell was started </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuArgs </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>vary</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> arguments were specified to ConEmu.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuConfig </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>vary</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> current configuration name, see <tt>/config</tt> switch </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBuild </td><td style="border: 1px solid #ccc; padding: 5px;">  <tt>141126c</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> current ConEmu build number </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuPID </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>number</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> PID (process ID) of ConEmu GUI </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuServerPID </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>number</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> PID (process ID) of ConEmuC server executable </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> main ConEmu window handle </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDrawHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> virtual console window handle (child window of ConEmu), this is canvas for console text painting </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBackHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> backing for canvas, it may be larger than canvas if padding or scrollbars exists </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuIsAdmin </td><td style="border: 1px solid #ccc; padding: 5px;">  <tt>ADMIN</tt> or not defined </td><td style="border: 1px solid #ccc; padding: 5px;"> set for those tabs/splits which were started elevated (UAC) </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuANSI </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ON</tt> or <tt>OFF</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> set by ConEmu to <tt>ON</tt> when ‘ANSI X3.64’ if enabled </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#Disabling_hooks_temporarily">ConEmuHooks</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>Enabled</tt>|<tt>OFF</tt>|<tt>NOARG</tt>|<tt>NOSTART</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> you may temporarily disable injects when running ‘long’ batches or initialization scripts </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#Cheating_system_time">ConEmuFakeDT</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>2014-12-31</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> will cheat system and local current time for console processes </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="GuiMacro.html#Far3-pre-Lua">ConEmuMacroResult</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>vary</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> may be set only by ConEmu&#x27;s Far Manager plugin after executing <a href="GuiMacro.html">GUI Macro</a> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#ConEmuCpCvt">ConEmuCpCvt</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> perl.exe:1252:1251 </td><td style="border: 1px solid #ccc; padding: 5px;"> to force output CP conversion </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#ConEmuDefaultCp">ConEmuDefaultCp</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> 1251 </td><td style="border: 1px solid #ccc; padding: 5px;"> to change output CP if you don&#x27;t want to use chcp </td></tr> </table></p>

<h2><a name="PATH_modifications"></a>PATH modifications<a href="#PATH_modifications" class="section_anchor"></a></h2>
<p><a href="SettingsComspec.html">Settings page ComSpec</a> has an options ‘Add %ConEmuDir% to %PATH%’ and ‘Add %ConEmuBaseDir% to %PATH%’. </p>
<p>They are turned on by default and allows to easily run executables and scripts and macros from <a href="ConEmu.html">ConEmu</a>&#x27;s folders. For example: </p>
<pre class="prettyprint">ConEmuC -GuiMacro Progress 3

or

csudo dism.exe /online /enable-feature /featurename:NetFX3 /All /Source:D:\sources\sxs /LimitAccess</pre>

<h2><a name="Debug_purposed_variables"></a>Debug purposed variables<a href="#Debug_purposed_variables" class="section_anchor"></a></h2>
<p><table class="wikitable"><tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Name</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Example</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Description</strong> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ConEmuSleepIndicator</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>TITLE</tt>, <tt>NUM</tt> or <tt>OFF</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Turns on monitoring feature of ‘Sleep in background’, when <tt>ConEmuSleepIndicator=NUM</tt> ConEmu will turn off NumLock when going sleep and turn on NumLock when full active back, when <tt>ConEmuSleepIndicator=TITLE</tt> - state will be shown in the TabBar or window title. </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ConEmuReportExe</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>perl.exe</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shows message box like ‘perl.exe loaded’ when <tt>perl.exe</tt> started inside <a href="ConEmu.html">ConEmu</a> tab; option ‘Inject <a href="ConEmuHk.html">ConEmuHk</a>’ must be enabled </td></tr> </table></p>

<h2><a name="Export_variables"></a>Export variables<a href="#Export_variables" class="section_anchor"></a></h2>
<p>When you start new console - it inherits environment strings (<tt>%PATH%</tt> also) from parent process (ConEmu GUI). </p>
<p>When you change %PATH% in your shell - it applies to this shell and its children processes (that is started in current console/tab). </p>
<p>If you need to fixate this temporarily environment changes - you may execute </p>
<pre class="prettyprint">ConEmuC /export PATH</pre>
<p>This will ‘copy’ your current <tt>%PATH%</tt> value to ConEmu GUI and it will be applied to all new ConEmu&#x27;s consoles. </p>

<h3><a name="Full_syntax_of_Export_command"></a>Full syntax of Export command<a href="#Full_syntax_of_Export_command" class="section_anchor"></a></h3>
<pre class="prettyprint">ConEmuC /EXPORT[=CON|ALL] [Var1 [Var2 [...]]]
ConEmuC /export[=CON|ALL] [Var1 [Var2 [...]]]
  VarN        - may contains one trailing/middle asterisk (sort of filemask support).
  /export     - export to all processes of current console and ConEmu GUI
  /export=CON - export to all processes of current console only
  /export=GUI - export to ConEmu GUI only
  /export=ALL - export to all processes of opened tabs and ConEmu GUI</pre>
<ul><li>Note! ‘Inject ConEmuHk’ required to set variables. </li><li>Some shells may ignores environment changes by <tt>/EXPORT=ALL</tt> because of their features. </li><li>Shells comments </li><ul><li>‘Far Manager’ &amp; ‘TCC/LE’ - OK; </li><li>‘cmd’ - fails partially (required to run smth from active cmd, for example &quot;cmd /k exit&quot;, to ‘apply’ changes); </li><li>‘bash’ - fails completely (seems, it does not support outside changing of env.vars). </li></ul></ul>

<h2><a name="Disabling_hooks_temporarily"></a>Disabling hooks temporarily<a href="#Disabling_hooks_temporarily" class="section_anchor"></a></h2>
<p>You may temporarily disable injects when running ‘long’ batches or initialization scripts: </p>
<pre class="prettyprint">cmd /k set ConEmuHooks=OFF &amp; &quot;C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd&quot; -new_console:sV -new_console:t:SDK &amp; set ConEmuHooks=</pre>
<p>Actually, <tt>ConEmuHooks</tt> may be set of ‘<tt>OFF</tt>’,‘<tt>NOARG</tt>’,‘<tt>NOSTART</tt>’ or simple ‘<tt>Enabled</tt>’. So if you want temporarily disable processing of <tt>-new_console</tt> and <tt>start</tt> (which both are forcing command into the new <a href="Tabs.html">ConEmu tab</a>) you may set the following: </p>
<pre class="prettyprint">set ConEmuHooks=NOARG,NOSTART</pre>

<h2><a name="Cheating_system_time"></a>Cheating system time<a href="#Cheating_system_time" class="section_anchor"></a></h2>
<p>Environment variable &quot;ConEmuFakeDT&quot;. That will cheat system and local current time for console processes. Use carefully! Console applications will think that time was freezed! ‘Inject <a href="ConEmuHk.html">ConEmuHk</a>’ must be on! Some examples (cmd): </p>
<pre class="prettyprint">set ConEmuFakeDT=%DATE% %TIME%
set ConEmuFakeDT=2013-12-31T23:59:59.99
set ConEmuFakeDT=2013-01-31 9:0:0
set ConEmuFakeDT=2013-11-30</pre>

<h2><a name="ConEmuCpCvt"></a>ConEmuCpCvt</h2>
<p>Codepage hack to force output CP conversion. </p>
<p>If some command uses wrong CP while converting ANSI to Unicode (the example may be perl.exe from &quot;<tt>git add -p</tt>&quot;) set variable to correct its output. Use asterisk for all apps. This hack affects ONLY <tt>WriteConsoleW</tt> function calls. </p>
<pre class="prettyprint">Format:
&lt;exename&gt;:&lt;badcp&gt;:&lt;goodcp&gt;[;&lt;exename&gt;:&lt;badcp&gt;:&lt;goodcp&gt;[...]]
Example:
set ConEmuCpCvt=perl.exe:1252:1251;*:850:866;</pre>

<h2><a name="ConEmuDefaultCp"></a>ConEmuDefaultCp</h2>
<p>Codepage hack to change output CP if you don't want to use chcp. </p>
<p>If you can&#x27;t use &quot;<tt>chcp &lt;codepage&gt;</tt>&quot; to change whole console CP output, you may change it using environment variable ConEmuDefaultCp. It will affect only <tt>WriteFile</tt> and <tt>WriteConsoleA</tt> functions. So, if you need to run several apps in one console simultaneously... </p>
<pre class="prettyprint">set ConEmuDefaultCp=1251
ConEmuC -fork -c App1.exe
set ConEmuDefaultCp=866
ConEmuC -fork -c App2.exe
set ConEmuDefaultCp=</pre>

<!-- Content ends -->

<!-- BackToContents start -->
				<div class="text stext"><a href="./TableOfContents.html">Back to the table of contents</a></div>
<!-- BackToContents end -->

			</div><!-- .content-->
		</div><!-- .container-->

		<div class="left-sidebar">
			<div class="block">
				<div class="blocktitle">Site menu</div>
				<div class="blockcontent">
					<ul>
					<!-- Menu starts -->
					<!-- Add ' class="MenuItemA" ' to current <a> item -->
					<li><a href="../index.html"><span>Home</span></a></li>
					<li><a href="http://www.fosshub.com/ConEmu.html"><span>Download</span></a></li>
					<li><a class="MenuItemA" href="./TableOfContents.html"><span>Documentation</span></a></li>
					<li><a href="./Screenshots.html"><span>Screenshots</span></a></li>
					<li><a href="./Settings.html"><span>Setting</span></a></li>
					<li><a href="../auto.html"><span>Auto install</span></a></li>
					<li><a href="../donate.html"><span>Donate</span></a></li>
					<li><a href="./AnsiEscapeCodes.html"><span>ANSI</span></a></li>
					<li><a href="./Awards.html"><span>Awards</span></a></li>
					<li><a href="./Delusions.html"><span>Delusions</span></a></li>
					<li><a href="./Source.html"><span>Source code</span></a></li>
					<!-- Menu ends -->
					</ul>
				</div>
				<div class="blockbottom"></div>
			</div>
		</div><!-- .left-sidebar -->

	</div><!-- .middle-->

</div><!-- maincol -->
</div>

<div class="footer">
	<div id="footertext">Copyright Maximus5 © 2015</div>
</div><!-- .footer -->

</body>
</html>
